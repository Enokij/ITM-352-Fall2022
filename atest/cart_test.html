

<script>

// Define the increaseQuantity() function and pass the products_key variable, product identifier, and products_data variable as arguments
function increaseQuantity(request, products_key, productId, products_data) {
  // Use the passed products_key and product identifier variables inside the function
  // Iterate through the products_data array and find the product with the matching identifier
  for (var i = 0; i < products_data[products_key].length; i++) {
    var product = products_data[products_key][i];
    if (product.id === productId) {
      // Update the quantity of the product in the shopping cart
      request.session.cart[products_key][productId] += 1;
      break;
    }
  }
}

// Define the app.get() method and pass the products_key variable and products_data variable as arguments
app.get("/increase_quantity", function(request, response) {
  // Get the product identifier from the request query string
  var productId = request.query.productId;

  // Increase the value of the item in the array by 1
  increaseQuantity(request, products_key, productId, products_data);

  // Redirect the user back to the shopping cart page
  response.redirect("./cart.html");
});

// Define the decreaseQuantity() function and pass the products_key variable, product identifier, and products_data variable as arguments
function decreaseQuantity(request, products_key, productId, products_data) {
  // Use the passed products_key and product identifier variables inside the function
  // Iterate through the products_data array and find the product with the matching identifier
  for (var i = 0; i < products_data[products_key].length; i++) {
    var product = products_data[products_key][i];
    if (product.id === productId) {
      // Check the value of the item in the array
      if (request.session.cart[products_key][productId] > 0) {
        // Update the quantity of the product in the shopping cart
        request.session.cart[products_key][productId] -= 1;
      }
      break;
    }
  }
}

// Define the app.get() method and pass the products_key variable and products_data variable as arguments
app.get("/decrease_quantity", function(request, response) {
  // Get the product identifier from the request query string
  var productId = request.query.productId;

  // Decrease the value of the item in the array by 1
  decreaseQuantity(request, products_key, productId, products_data);

  // Redirect the user back to the shopping cart page
  response.redirect("./cart.html");
});

</script>